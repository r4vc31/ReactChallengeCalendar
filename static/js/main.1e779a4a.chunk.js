(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),i=n.n(c),s=n(24),o=n(64),d=n(17),u=n(60),l={},j=[u.a],b=d.d.apply(void 0,[d.a.apply(void 0,j)].concat([]));var h=Object(d.c)({}),m=n(63),v=n(3),O=n(4),f=(n(61),n(1));var g=n(22),p=n(65),x=n(7),y=n.n(x);var C=function(e){for(var t=e.currentDate,n=e.reminders,a=e.selectedDay,r=e.onDayClick,c=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),s=[],o=0;o<c.getDay();o++)s.push(Object(f.jsx)("div",{className:y.a["empty-day"]},"empty-".concat(o)));for(var d=function(e){var c=new Date(t.getFullYear(),t.getMonth(),e),i=n.filter((function(e){return e.date.toDateString()===c.toDateString()})).length>0;s.push(Object(f.jsxs)("div",{onClick:function(){return r(c)},className:"".concat(y.a.day," ").concat((null===a||void 0===a?void 0:a.toDateString())===c.toDateString()?y.a.selected:""," ").concat(i?y.a.hasReminders:""),children:[e,i&&Object(f.jsx)("span",{className:y.a["reminder-text"],children:"Has reminders"})]},e))},u=1;u<=i;u++)d(u);return Object(f.jsx)("div",{className:y.a.grid,children:s.map((function(e){return e}))})},D=n(13),S=n.n(D),_=n(21),w=["Azuay","Bol\xedvar","Ca\xf1ar","Carchi","Chimborazo","Cotopaxi","El Oro","Esmeraldas","Gal\xe1pagos","Guayas","Imbabura","Loja","Los R\xedos","Manab\xed","Morona Santiago","Napo","Orellana","Pastaza","Pichincha","Santa Elena","Santo Domingo de los Ts\xe1chilas","Sucumb\xedos","Tungurahua","Zamora Chinchipe"];function k(e){var t=document.createElement("div");t.textContent=e,t.setAttribute("style"," width: 50vw; margin: 0 auto; color: white; padding: 8px; text-align: center; font-size: 18px; font-weight: bold; background-color: red; border-radius: 25px;"),document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t)}),3e3)}var E=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return t.setDate(t.getDate()+1),t},F=function(){var e=Object(_.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/".concat(t,"/").concat(n.toISOString(),"?key=FRFPMDB8VFDFZTPME23QVBYP7"));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",(null===r||void 0===r?void 0:r.days[0].conditions)||"Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var T=function(e){var t=e.onAddReminder,n=e.mostrarMensaje,r=e.cities,c=e.normalizeDate,i=Object(a.useState)(""),s=Object(O.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(new Date),l=Object(O.a)(u,2),j=l[0],b=l[1],h=Object(a.useState)(""),m=Object(O.a)(h,2),v=m[0],g=m[1],p=Object(a.useState)(""),x=Object(O.a)(p,2),C=x[0],D=x[1],w=Object(a.useState)(null),k=Object(O.a)(w,2),E=k[0],F=k[1];return Object(a.useEffect)((function(){C&&j?function(){var e=Object(_.a)(S.a.mark((function e(){var t,n,a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/".concat(C,"/").concat(j.toISOString(),"?key=FRFPMDB8VFDFZTPME23QVBYP7"),e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,F(null===(n=r.days[0])||void 0===n?void 0:n.conditions),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error fetching weather:",e.t0),F("Error fetching weather");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()():F(null)}),[C,j]),Object(f.jsxs)("div",{className:y.a["reminder-form"],children:[Object(f.jsx)("input",{type:"text",maxLength:"30",placeholder:"Reminder",value:o,onChange:function(e){return d(e.target.value)}}),Object(f.jsx)("input",{type:"date",onChange:function(e){return b(new Date(e.target.value))}}),Object(f.jsx)("input",{type:"time",value:v,onChange:function(e){return g(e.target.value)}}),Object(f.jsxs)("select",{value:C,onChange:function(e){return D(e.target.value)},children:[Object(f.jsx)("option",{value:"",children:"Select City"}),r.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))]}),E&&Object(f.jsxs)("div",{className:y.a.weather,children:["Weather for ",C," on ",c(j).toDateString(),": ",E]}),Object(f.jsx)("button",{onClick:function(){if(o&&j&&v&&C){var e=o.slice(0,30),a={date:c(j),time:v,city:C,text:e};t(a),d(""),b(new Date),g(""),D(""),F(null)}else n("\xa1Campos Incompletos!")},children:"Add Reminder"})]})},R=n(62);var M=function(e){var t=e.selectedDay,n=e.reminders,r=e.editingReminder,c=e.editText,i=e.editDate,s=e.editTime,o=e.editCity,d=e.setEditingReminder,u=e.setEditText,l=e.setEditDate,j=e.setEditTime,b=e.setEditCity,h=e.handleSaveReminder,m=e.handleEditReminder,v=e.cities,p=Object(a.useState)({}),x=Object(O.a)(p,2),C=x[0],D=x[1];return Object(a.useEffect)((function(){(function(){var e=Object(_.a)(S.a.mark((function e(){var t,a,r,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=Object(R.a)(n),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=13;break}if(c=r.value,i="".concat(c.date.toDateString(),"-").concat(c.city),C[i]){e.next=11;break}return e.next=10,F(c.city,c.date);case 10:t[i]=e.sent;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:D((function(e){return Object(g.a)(Object(g.a)({},e),t)}));case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}})()()}),[n,C]),Object(f.jsxs)("div",{className:y.a.remindersList,children:[Object(f.jsxs)("h3",{children:["Reminders for ",t.toDateString(),":"]}),Object(f.jsx)("ul",{children:n.filter((function(e){return e.date.toDateString()===t.toDateString()})).map((function(e,t){return Object(f.jsx)("li",{children:r===e?Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("input",{type:"date",value:i.toISOString().slice(0,10),onChange:function(e){return l(new Date(e.target.value))}}),Object(f.jsx)("input",{type:"time",value:s,onChange:function(e){return j(e.target.value)}}),Object(f.jsxs)("select",{value:o,onChange:function(e){return b(e.target.value)},children:[Object(f.jsx)("option",{value:"",children:"Select City"}),v.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))]}),Object(f.jsx)("button",{onClick:function(){return h(e)},children:"Save"}),Object(f.jsx)("button",{onClick:function(){return d(null)},children:"Cancel"})]}):Object(f.jsxs)("div",{children:[e.time," - ",e.text," (",e.city,")"," - ",C["".concat(e.date.toDateString(),"-").concat(e.city)]||"Loading...",Object(f.jsx)("button",{onClick:function(){return m(e)},children:"Edit"})]})},t)}))})]})};var N=[{path:"/",component:function(){var e=Object(a.useState)(new Date),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(O.a)(c,2),s=i[0],o=i[1],d=Object(a.useState)(null),u=Object(O.a)(d,2),l=u[0],j=u[1],b=Object(a.useState)(null),h=Object(O.a)(b,2),m=h[0],v=h[1],x=Object(a.useState)(""),D=Object(O.a)(x,2),S=D[0],_=D[1],R=Object(a.useState)(new Date),N=Object(O.a)(R,2),L=N[0],P=N[1],z=Object(a.useState)(""),B=Object(O.a)(z,2),I=B[0],V=B[1],Y=Object(a.useState)(""),A=Object(O.a)(Y,2),W=A[0],Z=A[1],G=n.toLocaleString("default",{month:"long",year:"numeric"});return Object(f.jsxs)("div",{className:y.a.calendar,children:[Object(f.jsxs)("div",{className:y.a.header,children:[Object(f.jsx)("button",{onClick:function(){r(new Date(n.getFullYear(),n.getMonth()-1))},children:"<"}),Object(f.jsx)("h2",{children:G}),Object(f.jsx)("button",{onClick:function(){r(new Date(n.getFullYear(),n.getMonth()+1))},children:">"})]}),Object(f.jsx)("div",{className:y.a.weekdays,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return Object(f.jsx)("div",{children:e},e)}))}),Object(f.jsx)(C,{currentDate:n,reminders:s,selectedDay:l,onDayClick:function(e){j((null===l||void 0===l?void 0:l.toDateString())===e.toDateString()?null:e)}}),Object(f.jsx)(T,{onAddReminder:function(e){o([].concat(Object(p.a)(s),[e]))},mostrarMensaje:k,cities:w,normalizeDate:E}),l&&Object(f.jsx)(M,{selectedDay:l,reminders:s,editingReminder:m,editText:S,editDate:L,editTime:I,editCity:W,setEditingReminder:v,setEditText:_,setEditDate:P,setEditTime:V,setEditCity:Z,handleSaveReminder:function(e){o(s.map((function(t){return t===e?Object(g.a)(Object(g.a)({},t),{},{date:E(L),time:I,city:W,text:S}):t}))),v(null),_(""),P(new Date),V(""),Z("")},cities:w,getWeatherForecast:F,handleEditReminder:function(e){v(e),_(e.text),P(e.date),V(e.time),Z(e.city)}})]})}}];var L,P=Object(v.f)((function(){return Object(f.jsx)("div",{className:"main",children:Object(m.a)(N)})})),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(156);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(o.a,{store:(L=h,Object(d.e)(L,l,b)),children:Object(f.jsx)(s.a,{children:Object(f.jsx)(P,{})})})}),document.getElementById("root")),z()},7:function(e,t,n){e.exports={calendar:"Calendar_calendar__z0c8Q",header:"Calendar_header__2zkCG",weekdays:"Calendar_weekdays__2WNlk",grid:"Calendar_grid__3VmLs",day:"Calendar_day__2Z_Tf","empty-day":"Calendar_empty-day__1vikq",today:"Calendar_today__2bhcs","reminders-container":"Calendar_reminders-container__39Vgv",reminder:"Calendar_reminder__2tlAl",message:"Calendar_message__1_sBg","reminder-form":"Calendar_reminder-form__t8vjP","reminder-text":"Calendar_reminder-text__2aInG",selected:"Calendar_selected__y6Zp6",remindersList:"Calendar_remindersList__2ufnr"}}},[[157,1,2]]]);
//# sourceMappingURL=main.1e779a4a.chunk.js.map